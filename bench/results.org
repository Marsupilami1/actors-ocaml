#+title: Bench results

* Ackerman
Note that actor creation is not part of the bench.
** Await: 5.23/s
Latencies for 50 iterations of "Ackerman(3, 4), await":
Ackerman(3, 4), await: 11.29 WALL (11.44 usr +  0.29 sys = 11.73 CPU) @  4.26/s (n=50)
                        Rate Ackerman(3, 4), await
Ackerman(3, 4), await 4.26/s                    --

** Forward: 12.1/s
Latencies for 100000 iterations of "Ackerman(3, 4), awaitb":
Ackerman(3, 4), awaitb:  0.37 WALL ( 0.56 usr +  0.11 sys =  0.66 CPU) @ 150515.59/s (n=100000)
                           Rate Ackerman(3, 4), awaitb
Ackerman(3, 4), awaitb 150516/s                     --

** Forward + lifted promise 306/s
Latencies for 1000 iterations of "Ackerman(3, 4), liftedb":
Ackerman(3, 4), liftedb:  0.86 WALL ( 1.79 usr +  0.04 sys =  1.83 CPU) @ 545.65/s (n=1000)
                         Rate Ackerman(3, 4), liftedb
Ackerman(3, 4), liftedb 546/s                      --

** Eio.Fiber.fork_promise 331/s
Latencies for 1000 iterations of "Ackerman(3, 4), await":
Ackerman(3, 4), await:  3.03 WALL ( 3.02 usr +  0.00 sys =  3.02 CPU) @ 330.66/s (n=1000)
                       Rate Ackerman(3, 4), await
Ackerman(3, 4), await 331/s                    --

* Factorial
** Tail recursive (100_000)
Latencies for 10000 iterations of "fact term fut":
fact term fut:  1.29 WALL ( 1.29 usr +  0.00 sys =  1.29 CPU) @ 7781.55/s (n=10000)
                Rate fact term fut
fact term fut 7782/s            --

** Basic Actorsocaml (10_000)
Latencies for 10000 iterations of "fact basic fut":
fact basic fut:  0.91 WALL ( 0.91 usr +  0.00 sys =  0.91 CPU) @ 10957.88/s (n=10000)
                  Rate fact basic fut
fact basic fut 10958/s             --

** Basic with monadic let (10_000)
Latencies for 10000 iterations of "fact basic futm":
fact basic futm:  4.70 WALL ( 4.70 usr +  0.00 sys =  4.70 CPU) @ 2128.03/s (n=10000)
                  Rate fact basic futm
fact basic futm 2128/s              --

** Basic with fmap (10_000)
Latencies for 10000 iterations of "fact fmap fut":
fact fmap fut:  2.01 WALL ( 2.01 usr +  0.00 sys =  2.01 CPU) @ 4986.55/s (n=10000)
                Rate fact fmap fut
fact fmap fut 4987/s            --

** Basic eio (10_000)
Latencies for 10000 iterations of "fact basic eio":
fact basic eio:  1.22 WALL ( 1.21 usr +  0.00 sys =  1.21 CPU) @ 8231.37/s (n=10000)
                 Rate fact basic eio
fact basic eio 8231/s             --

* Linked list (Be careful, results are in iter/s _OR_ s/iter)
System time is significant here.
Can not allocate more than 127 Domains (so max 128 with the main domain).
** Basic
*** 1000 nodes
Latencies for 100 iterations of "Linked list":
Linked list:  1.61 WALL ( 3.72 usr +  0.82 sys =  4.54 CPU) @ 22.04/s (n=100)
              Rate Linked list
Linked list 22.0/s          --

*** 10_000 nodes
Latencies for 10 iterations of "Linked list":
Linked list:  5.46 WALL (20.04 usr +  1.28 sys = 21.32 CPU) @  0.47/s (n=10)
            s/iter Linked list
Linked list   2.13          --

** Tail recursive
*** 1000 nodes
Latencies for 100 iterations of "Linked list":
Linked list:  1.66 WALL ( 3.63 usr +  0.96 sys =  4.59 CPU) @ 21.79/s (n=100)
              Rate Linked list
Linked list 21.8/s          --

*** 1000 nodes forward
Latencies for 100 iterations of "Linked list":
Linked list:  1.06 WALL ( 2.21 usr +  0.64 sys =  2.85 CPU) @ 35.11/s (n=100)
              Rate Linked list
Linked list 35.1/s          --

*** 10_000 nodes
Latencies for 10 iterations of "Linked list":
Linked list:  5.46 WALL (19.52 usr +  1.22 sys = 20.75 CPU) @  0.48/s (n=10)
            s/iter Linked list
Linked list   2.07          --

*** 10_000 nodes forward
Latencies for 10 iterations of "Linked list":
Linked list:  4.01 WALL (14.12 usr +  0.65 sys = 14.77 CPU) @  0.68/s (n=10)
            s/iter Linked list
Linked list   1.48          --
